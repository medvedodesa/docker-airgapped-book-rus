# Dnsmasq Configuration for Air-Gapped Docker Environment
# File: /etc/dnsmasq.conf

# Listen only on internal interface (change to your interface name)
interface=eth0
bind-interfaces

# Do not use /etc/resolv.conf for upstream DNS
# (no internet in air-gap)
no-resolv

# Uncomment if you need upstream DNS (NOT for pure air-gap)
# server=8.8.8.8

# Read additional hosts from this file
addn-hosts=/etc/dnsmasq.d/hosts.conf

# Domain for search
domain=company.local

# Expand short names (e.g., 'harbor' becomes 'harbor.company.local')
expand-hosts

# Cache size (number of entries)
cache-size=1000

# Log queries for debugging (comment out in production)
log-queries
log-facility=/var/log/dnsmasq.log

# DHCP range (if using DHCP)
# dhcp-range=10.20.30.100,10.20.30.200,24h

# Don't read /etc/hosts
# no-hosts
